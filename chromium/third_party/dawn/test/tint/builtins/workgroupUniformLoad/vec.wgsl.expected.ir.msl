SKIP: FAILED

#include <metal_stdlib>
using namespace metal;

threadgroup float4 v;
float4 foo() {
  threadgroup_barrier(mem_flags::mem_threadgroup);
  float4 const v_1 = v;
  threadgroup_barrier(mem_flags::mem_threadgroup);
  return v_1;
}
program_source:4:20: error: program scope variable must reside in constant address space
threadgroup float4 v;
                   ^

