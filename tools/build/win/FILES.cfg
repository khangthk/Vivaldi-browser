# -*- python -*-
# ex: set syntax=python:

# Remove unused archives:
FILES = [f for f in FILES if f.get('archive') not in ['content-shell.zip',
                                                      'headless-shell.zip']]

FILES = [f for f in FILES if f.get('filename') not in ['chrome_proxy.exe',
                                                       'chrome_proxy.exe.pdb',
                                                       "chrome.exe",
                                                       'chrome.dll',
                                                       'chrome_child.dll',
                                                       'chrome_elf.dll',
                                                       'chrome_watcher.dll',
                                                       "browser_tests.exe",
                                                       "sync_integration_tests.exe",
                                                       'interactive_ui_tests.exe',
                                                       'mini_installer.exe',
                                                       'courgette.exe',
                                                       'courgette64.exe',
                                                       'chrome_100_percent.pak',
                                                       'chrome_200_percent.pak',
                                                       'chrome.dll.pdb',
                                                       'chrome_child.dll.pdb',
                                                       'chrome_elf.dll.pdb',
                                                       'chrome.exe.pdb',
                                                       ]]

FILES = FILES + [
  {
    'filename': 'vivaldi.exe',
    'buildtype': ['dev', 'official'],
    'filegroup': ['default', 'symsrc'],
  },
  {
    'filename': 'vivaldi.dll',
    'buildtype': ['dev', 'official'],
    'filegroup': ['default', 'symsrc'],
  },
  {
    'filename': 'vivaldi_child.dll',
    'buildtype': ['dev', 'official'],
    'filegroup': ['default', 'symsrc'],
    'optional': ['dev', 'official'],
  },
  {
    'filename': 'vivaldi_elf.dll',
    'buildtype': ['dev', 'official'],
    'filegroup': ['default', 'symsrc'],
  },
  {
    'filename': 'vivaldi_watcher.dll',
    'buildtype': ['dev', 'official'],
    'filegroup': ['default', 'symsrc'],
  },
  {
    'filename': 'vivaldi_100_percent.pak',
    'buildtype': ['dev', 'official'],
  },
  {
    'filename': 'vivaldi_200_percent.pak',
    'buildtype': ['dev', 'official'],
    'optional': ['dev', 'official'],
  },
  {
    'filename': 'Vivaldi.*.exe',
    'buildtype': ['dev', 'official'],
    'archive': 'Vivaldi.*.exe',
    'direct_archive': 1,
    'filegroup': ['symsrc'],
  },
  {
    'filename': 'courgette.exe',
    'buildtype': ['dev', 'official'],
    'archive': 'courgette.exe',
    'optional': ['dev', 'official'],
  },
  {
    'filename': 'courgette64.exe',
    'buildtype': ['dev', 'official'],
    'archive': 'courgette64.exe',
    'optional': ['dev', 'official'],
  },
  {
    'filename': 'vivaldi.dll.pdb',
    'buildtype': ['dev', 'official'],
    'archive': 'chrome-win32-syms.zip',
  },
  {
    'filename': 'vivaldi_child.dll.pdb',
    'buildtype': ['dev', 'official'],
    'optional': ['dev', 'official'],
    'archive': 'chrome-win32-syms.zip',
  },
  {
    'filename': 'vivaldi_elf.dll.pdb',
    'buildtype': ['dev', 'official'],
    'archive': 'chrome-win32-syms.zip',
  },
  {
    'filename': 'vivaldi.exe.pdb',
    'buildtype': ['dev', 'official'],
    'archive': 'chrome-win32-syms.zip',
  },
  {
    'filename': 'update_notifier.exe.pdb',
    'buildtype': ['dev', 'official'],
    'optional': ['dev', 'official'],
    'archive': 'chrome-win32-syms.zip',
  },
  {
    'filename': 'vivaldi_proxy.exe',
    'buildtype': ['dev', 'official'],
    'filegroup': ['default', 'symsrc'],
  },
  {
    'filename': 'vivaldi_proxy.exe.pdb',
    'buildtype': ['dev', 'official'],
    'archive': 'chrome-win32-syms.zip',
  },
]

# Source Maps:
FILES = FILES + [{
  'filename': f,
  'buildtype': ['dev'],
  'optional': ['dev'],
  'archive': f,
  'direct_archive': 1,
} for f in [
  'background-bundle.js.map',
  'bundle.js.map',
  'filtering-bundle.js.map',
  'inject-root-bundle.js.map',
  'background-common-bundle.js.map',
  'bundle-mailreader-worker.js.map',
  'inject-all-bundle.js.map',
  'localeSettings-bundle.js.map',
  'threading-bundle.js.map',
  'translate-bundle.js.map',
  'vendor-bundle.js.map',
]]
